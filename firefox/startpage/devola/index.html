<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="css/stylesheet.css">
	<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet"> 
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" />
	<title>Startpage</title>
</head>

<body>
	<div id="top">
		<div class="top-left">
			<div class="pad-left">
			<p class="date"><span id="weekday"></span> <span id="month-date"></span></p>
			<p class="weather-widget"><i class="fa fa-gear"> </i> <span id="weather"></span></p>
			<div class="settings">
				<p class="x">x</p>
				<p>City: <input class="enter entercity" type="text" /></p>
				<p>Country: <input class="enter entercountry" type="text" /></p>
				<p>Please use ISO 3166 country codes. <br/>Find your country code here: <a href="https://www.iso.org/obp/ui/#search">iso.org</a></p>
				<ul>
					<li>
						<input type="radio" id="cel" name="unit" value="cel">
    					<label for="cel">&deg;C</label>
					</li>
					<li>
    					<input type="radio" id="far" name="unit" value="far">
    					<label for="far">&deg;F</label>
					</li>
				</ul>
				<button id="save">save</button>
			</div>
			</div>
		</div>
		<div class="top-right">
	    <div class="pad-right">
			<a href="" id="news-title-link"><p><span id="news-title"></span></p></a>
			<p><span id="score-3"></span></p>
			<p><span id="next-post-news">next post &rarr;</span></p>
		</div>
		</div>
	</div>
	
	<div id="bottom">
		<div class="container-rect">
			<div id="search">
				<input id="search-bar" type="text" placeholder="duck it" />
				<div id="links">
					<p class="reddit-links">
						<div class="link category reddit-cat">social</div>
						<a id="reddit-link-1" href="http://facebook.com"><span class="link reddit reddit1">facebook</span></a> 
						<a id="reddit-link-2" href="http://reddit.com"><span class="link reddit reddit2">reddit</span></a> 
						<a id="reddit-link-3" href="http://groupme.com"><span class="link reddit reddit3">groupme</span></a>
						<a id="reddit-link-4" href="http://twitter.com"><span class="link reddit reddit4">twitter</span></a>
						<a id="reddit-link-5" href="http://gmail.com"><span class="link reddit reddit5">gmail</span></a>
					</p>
					<p class="news-links">
						<div class="link category news-cat">work</div>
						<a id="news-link-1" href="https://github.com/cassidymwagner"><span class="link news news1">github</span></a> 
						<a id="news-link-2" href="http://adsabs.harvard.edu/abstract_service.html"><span class="link news news2">adsabs</span></a> 
						<a id="news-link-3" href="https://arxiv.org/"><span class="link news news3">arxiv</span></a> 
					</p>
					<p class="code-links">
						<div class="link category news-cat">school</div> 
						<a id="code-link-1" href="https://one.ou.edu"><span class="link code code1">one</span></a> 
						<a id="code-link-2" href="http://canvas.ou.edu"><span class="link code code2">canvas</span></a> 
						<a id="code-link-3" href="https://outlook.office.com"><span class="link code code3">outlook</span></a> 
					</p>
					<p class="reddit-links">                                                                                        
                                                  <div class="link category reddit-cat">media</div>
						  <a id="reddit-link-1" href="http://youtube.com"><span class="link reddit reddit1">youtube</span></a>
						  <a id="reddit-link-2" href="http://netflix.com"><span class="link reddit reddit2">netflix</span></a>
						  <a id="reddit-link-3" href="http://hulu.com"><span class="link reddit reddit3">hulu</span></a>
						  <a id="reddit-link-4" href="http://bandcamp.com"><span class="link reddit reddit4">bandcamp</span></a>    
                                          </p>
				</div>
			</div>
		</div>
	</div>
	
<style>
	@font-face {
    font-family: 'nationalelight';
    src: url('fonts/SourceCodePro-Regular.ttf.woff2') format('woff2'),
         url('fonts/SourceCodePro-Regular.ttf.woff') format('woff'),
		 url('fonts/SourceCodePro-Regular.otf') format('otf');
    font-weight: normal;
    font-style: normal;

	}
	body {
		font-family: 'nationalelight', 'Quicksand';
		margin: 0;
		background-color: #2b303b;
	}
	p {
		font-family: 'nationalelight', 'Quicksand';
		color: rgb(192, 197, 206);
		font-size: 13px;
	}
	a {
		color: #a3be8c;
		text-decoration: none;
	}
	input[type=text] {
		color: #a3be8c;
		font-family: 'nationalelight', 'Quicksand';
		font-size: 15px;
	}
	#links {
		padding-left: 5%;
		margin-top: 3em;
		margin-bottom: 3em;
	}
	.code-cat a {
		color: #8fa1b3 !important;
	}
	.code-cat {
		border-right: 3px solid #8fa1b3;
	}
	.code {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.code:hover {
		color: #8fa1b3 !important;
	}
	
	.news-cat a {
		color: #8fa1b3 !important;
	}
	.news-cat {
		border-right: 3px solid #8fa1b3;
		color: #8fa1b3 !important;
	}
	.news {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.news:hover {
		color: #8fa1b3 !important;
	}
	.reddit-cat a {
		color: #8fa1b3 !important;
	}
	.reddit-cat {
		border-right: 3px solid #8fa1b3;
		color: #8fa1b3 !important;
	}
	.reddit {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.reddit:hover {
		color: #8fa1b3 !important;
	}
	.category {
		padding-right: 14px;
		width: 50px;
		float: left;
	}
	.link {
		margin-right: 14px;
		color: #c0c5ce;
	}
	.link.news a {
		color: #8fa1b3;
	}
	.link.news a:hover {
		color: #b48ead !important;
	}
	#search-bar {
    	width: 90%;
    	border-bottom: 3px solid #a3be8c;
		border-top: 0;
		border-left: 0;
		border-right: 0;
		color: #a3be8c;
    	padding: 10px;
		margin-left: 5%;
		background-color: transparent;
		font-size: 15px;
		text-align: center;
	}
	::-webkit-input-placeholder { /* WebKit, Blink, Edge */
		font-family: 'nationalelight', 'Quicksand';
		color: #a3be8c;
		opacity: 1;
	}
	:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
		font-family: 'nationalelight', 'Quicksand';
		color: #a3be8c;
		opacity: 1;
	}
	::-moz-placeholder { /* Mozilla Firefox 19+ */
		font-family: 'nationalelight', 'Quicksand';
		color: #a3be8c;
		opacity: 1;
	}
	:-ms-input-placeholder { /* Internet Explorer 10-11 */
		font-family: 'nationalelight', 'Quicksand';
		color: #a3be8c;
		opacity: 1;
	}
	::-ms-input-placeholder { /* Microsoft Edge */
		font-family: 'nationalelight', 'Quicksand';
		color: #a3be8c;
		opacity: 1;
	}
	.fa-gear {
		cursor: pointer;
	}
	.enter {
		border: 0;
		border-bottom: 3px solid rgb(192, 197, 206);
		background-color: transparent;
	}
	#news-title {
		color: #a3be8c;
	}
	#score-3 {
		color: #b48ead;
	}
	#save {
		border: 3px solid #b48ead;
		background-color: transparent;
		padding: 5px 10px;
		width: 100%;
		margin: 0 auto;
		color: #b48ead;
		cursor: pointer;
		font-family: 'nationalelight', 'Quicksand';
		font-size: 15px;
	}
	.x {
		position: absolute;
		color: #b48ead;
		right: 12px;
		top: 5px;
		padding: 0;
		margin: 0;
		cursor: pointer;
	}
	.date {
		color: #a3be8c;
	}
	.weather-widget {
		color: #b48ead;
	}
	#btc-price {
		color: #2b303b;
	}
	#top {
		border: 3px solid rgb(192, 197, 206);
		background-color: #2b303b;
		height: 130px;
		width: calc(100% - 6px);
	}
	#bottom {
		background-color: #2b303b;
		height: 69%;
		width: 100%;
		padding-top: 60px;
	}
	.container-rect {
		background: transparent;
		height: auto;
		width: 600px;
		border: 3px solid rgb(192, 197, 206);
		position: relative;
		top: 15%;
		margin: 0 auto;
		
	}
	#next-post-news {
		cursor: pointer;
		color: #c0c5ce;
	}
	h1, h2, h3, p {
		font-family: 'nationalelight', 'Quicksand';
	}
	.title {
		text-transform: uppercase;
		letter-spacing: 2px;
		color: #c0c5ce;
		text-align: center;
	}
	#searchbar {
		background-color: transparent;
		border: 0;
		width: 90%;
		text-align: center;
	}
	.settings {
		width: 300px; 
		background-color: #2b303b;
		border: 3px solid #b48ead;
		position: absolute;
		top: 80px;
		padding: 1em;
	}
	.pad-left {
		padding-left: 1em;
	}
	.pad-right {
		padding-left: 1em;
	}
	.top-left {
		width: 50%;
		border-right: 3px solid rgb(192, 197, 206);
		float: left;
		height: 100%;
	}
	.top-right {
    	width: calc(45% - 1px);
    	float: left;
		height: 100%;
	}
	hr {
		border: 0; 
		height: 2px; 
		background-image: linear-gradient(to right, rgba(227, 131, 127, 0), rgba(227, 131, 127, 0.75), rgba(227, 131, 127, 0));
	}
	/* radio buttons */
	ul {
		list-style: none;
		margin: 0;
		padding: 0;
		margin-bottom: 1em;
		text-align: center;
	}

	label[for="far"], label[for="cel"] {
		cursor: pointer;
		border: 3px solid rgb(227, 131, 127);
		padding: 4px;
	}	
	
	ul li {
		display: inline;
		margin-right: 30px;
	}	
	
	ul li input[type=radio]{
		visibility: hidden;
		float: left;
		display: none;
	}

	ul li .check::before {
		position: absolute;
		content: '';
		border-radius: 100%;
		height: 15px;
		width: 15px;
		top: 5px;
		left: 5px;
		margin: auto;
		transition: background 0.25s linear;
		-webkit-transition: background 0.25s linear;
	}

	input[type=radio]:not(:checked) ~ .check {
		border: 5px solid rgb(227, 131, 127);
	}

	input[type=radio]:not(:checked) ~ .check::before{
		background: rgb(227, 131, 127);
	}

	input[type=radio]:not(:checked) ~ label{
		color: rgb(227, 131, 127);
	}	
	
	input[type=radio]:checked ~ .check {
		border: 5px solid #7fdfe3;
	}

	input[type=radio]:checked ~ .check::before{
		background: #7fdfe3;
	}

	input[type=radio]:checked ~ label{
		color: #7fdfe3;
		border: 1px solid #7fdfe3;
	}
</style>	
	
<script>
$(document).ready(function(){

$(".container-rect").addClass("animated bounceInUp");	
	
$(".reddit-links").mouseover(function(){
	$('.reddit-cat').css("border-right", "2px solid #8fa1b3");
});
$(".reddit-links").mouseout(function(){
	$('.reddit-cat').css("border-right", "1px solid #8fa1b3");
});
$(".news-links").mouseover(function(){
	$('.news-cat').css("border-right", "2px solid #b48ead");
});	
$(".news-links").mouseout(function(){
	$('.news-cat').css("border-right", "1px solid #b48ead");
});	
	
	
$("#search-bar").keypress(function(event) {
var searchQuery = $("#search-bar").val();
  if ( event.which == 13 ) {
    window.location.href = 'http://www.google.com/' + searchQuery;
  }
}); // END Keypress Function		
	
$(".settings").hide();
$(".fa-gear").click(function(){
	$(".settings").slideToggle();
});
$(".x").click(function(){
	$(".settings").slideToggle();
});
		
if (localStorage.getItem("locCity") == null) {
	localStorage.setItem("locCity", "kelowna")
}
	
if (localStorage.getItem("locCountry") == null) {
	localStorage.setItem("locCountry", "ca")
}
if (localStorage.getItem("unit") == null) {
	localStorage.setItem("unit", "&deg;C")
	$("#cel").attr('checked', 'checked');
} else if(localStorage.getItem("unit") == "&deg;C") {
	$("#cel").attr('checked', 'checked');
} else if(localStorage.getItem("unit") == "&deg;F") {
	$("#far").attr('checked', 'checked');
}
	
var baseURL = "http://api.openweathermap.org/data/2.5/weather?q=";
var city = localStorage.getItem('locCity');
var country = localStorage.getItem('locCountry')
var key = "&APPID=15dac795069e9f6ef5b3c4c435136247";	
var apiurl = baseURL + city + "," + country + key;	
var unit = localStorage.getItem('unit');
	
$(".entercity").attr("value", city);
$(".entercountry").attr("value", country);
	
function getWeather() {
	var baseURL = "http://api.openweathermap.org/data/2.5/weather?q=";
	var city = localStorage.getItem('locCity');
	var country = localStorage.getItem('locCountry')
	var key = "&APPID=15dac795069e9f6ef5b3c4c435136247";	
	var apiurl = baseURL + city + "," + country + key;	
	var unit = localStorage.getItem('unit');
	
	$.getJSON(apiurl,function(result){
    	console.log(result);
		var temp = result.main.temp;
		if (localStorage.getItem("unit") == "&deg;C") {
			temp = temp - 273.15;
			temp = Math.round(temp);
		} else if (localStorage.getItem("unit") == "&deg;F") {
			temp = temp - 273.15;
			temp = temp * 1.8;
			temp = temp + 32;
			temp = Math.round(temp);
		}
		
		$("#weather").empty().append(result.name + ": " + temp + " " + unit + ", " + result.weather[0].description);
	});
}	
getWeather();
	
$("#save").click(function(){
	if ($('.entercity').length > 0 && $('.entercity').val() != '') {
		localStorage.setItem("locCity", $(".entercity").val());
	}
	if ($('.entercountry').length > 0 && $('.entercountry').val() != '') {
		localStorage.setItem("locCountry", $(".entercountry").val());
	}
	if ($('input[id=far]').is(":checked")) {
		localStorage.setItem("unit", "&deg;F");
	}
	if ($('input[id=cel]').is(":checked")) {
		localStorage.setItem("unit", "&deg;C");
	}
	getWeather();
	$(".settings").slideToggle();
});	
	
//Date Functionality
var date = new Date();
var weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
var weekday = weekdays[date.getDay()];
var month = date.getMonth();
var monthday = date.getDate();
var year = date.getYear();	

$('#weekday').html(weekday);
	
switch (monthday) {
	case 1:
	case 21: 
	case 31:
    	var affix = "st";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
    	break;
	case 2: 
	case 22:
    	var affix = "nd";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
    	break;
	case 3: 
	case 23:
     	var affix = "rd";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
   	break;
	case 4: 
	case 5: 
	case 6: 
	case 7: 
	case 8: 
	case 9: 
	case 10: 
	case 11: 
	case 12: 
	case 13: 
	case 14: 
	case 15: 
	case 16: 
	case 17: 
	case 18: 
	case 19: 
	case 20: 
	case 24: 
	case 25: 
	case 26: 
	case 27: 
	case 28: 
	case 29:
	case 30:
   	var affix = "th";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
}		
	
// Current Bitcoin Price Function	
function btcprice() {
var currency = "CAD";
var apiurl = 'https://api.coindesk.com/v1/bpi/currentprice/' + currency + '.json';
    
$.ajax({
  type: "GET",
  url: apiurl,
  async: false,
  dataType: 'json',
  success: function(data){ 
    var price = data["bpi"][currency]["rate_float"];
	  var priceRounded = Math.round(price);
	  $("#btc-price").append("$" + priceRounded + " " + currency);
    }, 
  error: function(errorMessage){
      alert("ajax call failed");
    }  
}); // END ajax call	
}
btcprice();	

var subreddit = "News";
var apiurl = 'https://www.reddit.com/r/' + subreddit + '/.json?';
var postnum = 1;
	
function updatepost() {
    $.ajax({
      type: "GET",
      url: apiurl,
      async: false,
      dataType: 'json',
      success: function(data){ 
        var title = data["data"]["children"][postnum]["data"]["title"];
		var score = data["data"]["children"][postnum]["data"]["score"];
		  	$("#news-title").empty().prepend(title);
		  	$("#score-3").empty().append('<i class="fa fa-heart"> </i>' + ' ' + score);
		  	$("#news-title-link").attr("href","https://reddit.com" + data["data"]["children"][postnum]["data"]["permalink"]);
      	}, 
      	error: function(errorMessage){
        	alert("Reddit ajax call failed");
  		}      
    }); // END ajax call
} // End Update Post function
updatepost();
	
$("#next-post-news").click(function(){
	postnum = postnum+2;
	updatepost();
});	
	
});	
</script>	
	
</body>
