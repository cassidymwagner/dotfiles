// MagicActions for Google Chrome - CHROMEACTIONS.COM - Copyright (c) 2017 Vlad & Serge Strukoff. All Rights Reserved.
(function(){function l(){f.runtime.sendMessage(0);setTimeout(l,12E3)}function n(d){if(d.type==a){try{var b=JSON.parse(d.detail)}catch(q){return}var c=b.id;6===c?(k||(k=new p),k.capture()):7===c||8==c||11===c?f.runtime.sendMessage(d.detail):4===c?(c=b.name,-1<b.value&&("ui"===c&&2>b.value?f.runtime.sendMessage(d.detail):"cinc"===c&&40>b.value?f.runtime.sendMessage(d.detail):"cint"===c&&4>b.value&&f.runtime.sendMessage(d.detail))):2===c?"string"==typeof b.url&&(b=b.url,(0==b.indexOf("https://www.mycinema.pro/")||
5<b.indexOf("RNr.html")||32==b.indexOf("UCCwIAJrwWGB"))&&f.runtime.sendMessage(d.detail)):31===c&&f.runtime.sendMessage(d.detail,function(c){m(a+"b",c)})}}function m(d,b){var c=document.createEvent("CustomEvent");c.initCustomEvent(d,!1,!1,b);window.dispatchEvent(c)}function p(){function d(c,b,d){a.w!=b&&(a.w=g.width=b,a.h=g.height=d);k.drawImage(c,0,0);h=k.getImageData(0,0,b,d).data;a.rgba&&window.URL.revokeObjectURL(a.rgba);a.rgba=window.URL.createObjectURL(new Blob([h],{type:"application/octet-stream"}));
f.runtime.sendMessage(a)}function b(){var a=document.querySelector('meta[property="og:image"');a&&a.content&&window.fetch(a.content,{method:"GET"}).then(function(a){return a.blob()}).then(function(a){c(a)})}function c(a){if(a){var c=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"})),b=new Image;b.onload=function(){window.URL.revokeObjectURL(c);d(b,b.width,b.height)};b.src=c}}var a={id:6},h;a.t=encodeURIComponent(document.title.slice(0,document.title.length-10));var e=document.body.querySelector('meta[itemprop="videoId"]');
a.vid=e?e.getAttribute("content"):"";e=document.getElementById("eow-reuse");a.lic=e?e.textContent:"";if(e=document.querySelector("video")){var g=document.createElement("canvas");var k=g.getContext("2d")}this.capture=function(){!e||4!=e.readyState&&3!=e.readyState?b():d(e,e.videoWidth,e.videoHeight)}}var k,a,f={};chrome.runtime.sendMessage(32);Object.defineProperty(window,"msg__",{get:function(){return null},set:function(d){if(a)m(a+"b",d);else{a=Math.random().toString(16).slice(2);var b=document.documentElement,
c=document.createElement("script");c.text='(function(){function Z(){window.ytplayer&&window.ytplayer.config&&window.ytplayer.config.args?(H=window.ytplayer,aa(window.ytplayer.config.args,!0)):setTimeout(Z,10)}function U(){K=0<window.location.search.indexOf("list=");L=d.pause?K?d.plist?1:0:0:1;ba||(ba=!0,document.addEventListener("yt-navigate-finish",V,!1),document.addEventListener("spfdone",V,!1))}function V(){var a="/watch"==window.location.pathname;K=0<window.location.search.indexOf("list=");L=d.pause?K?d.plist?1:0:0:1;M.pageLoaded(a);I||\n(I=new ca);I.optionsChanged();A.pageLoaded(a);N&&N.pageLoaded();da();ea(a);fa();ga();ha();d.a0&&d.a1&&ta()}function ua(a){a.addEventListener("mousedown",function(){G("'+
a+'",JSON.stringify({id:31,url:"https://www.mycinema.pro/menu.html"}))},!1)}function va(a){a.addEventListener("mousedown",function(){G("'+a+'",JSON.stringify({id:31,url:"https://www.mycinema.pro/options.html"}))},!1)}function ia(a){G("'+a+'",JSON.stringify({id:6}));ja&&a.preventDefault()}function ka(a){a.addEventListener("mousedown",\nfunction(){G("'+a+'",JSON.stringify({id:31,url:"https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html"}))},!1)}function la(){document.cookie&&(d.wide&&(document.cookie="wide=1; max-age=22592000; path=/; domain=youtube.com"),d.ww?document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=22592000; path=/; domain=youtube.com":-1<document.cookie.indexOf("s_gl=1d69aac621b2f9c0")&&(document.cookie="s_gl=1d69aac621b2f9c0a25dade722d6e24bcwIAAABVUw==; max-age=0; path=/; domain=youtube.com"))}\nfunction aa(a,b){a.store_user_volume=!0;d.ww&&(a.cr="US",a.hl="en_US",a.host_language="en");O=d.hq;J=d.hqi;O&&(a.suggestedQuality=a.vq=J,window.localStorage&&(window.localStorage["yt-player-quality"]=\'{"data":"\'+J+\'","expiration":9904916135997,"creation":1502324135997}\'));d.anns&&(a.iv_load_policy=3)}function W(a){a=a?"auto":J;window.localStorage&&(window.localStorage["yt-player-quality"]=\'{"data":"\'+a+\'","expiration":9904916135997,"creation":1502324135997}\');var d=E(1);d&&d.setPlaybackQuality(a)}\nfunction wa(){function a(){if(0>d.cini||2<d.cini)d.cini=1;if(0>d.cinc||39<d.cinc)d.cinc=0;if(0>d.cint||3<d.cint)d.cint=1;u=d.cini;c=d.cinc;P=d.cint}function b(){C||(document.addEventListener("click",l,!0),document.addEventListener("contextmenu",l,!0));C=!0}function F(a){C&&(document.removeEventListener("contextmenu",l,!0),document.removeEventListener("click",l,!0));C=!1}function l(a){var c=a.target;if(m)if(v)if(-1<c.className.indexOf("ytp-size-button")||-1<c.className.indexOf("html5-endscreen")){n();\nvar d=!0}else"contextmenu"==a.type&&"ma-cin-cvs"==c.id&&(k(),d=!0);else if("contextmenu"==a.type){if(c=c.localName,"video"==c||"canvas"==c)k(),d=!0}else{if(-1<c.className.indexOf("ytp-size-button")||-1<c.className.indexOf("html5-endscreen"))k(),d=!0}else if("page"==c.id||"ytd-watch"==c.localName){var S=E(!0);S&&(c=a.pageY-window.scrollY,S=S.getBoundingClientRect(),60<c&&c<S.bottom&&("contextmenu"==a.type?k():n(),d=!0))}d&&(a.stopPropagation(),a.preventDefault())}function h(){window.hasOwnProperty("Polymer")?\n(t="ma-exp-mat",y="ma-cin-mat"+u):(t="ma-exp-old",y="ma-cin-old"+u)}function p(){z();var a=document.documentElement.classList;v&&(a.remove(y),a.remove("ma-cin"));m&&(a.remove(t),a.remove("ma-exp"));v=m=!1}function k(){var a=document.documentElement.classList;h();v?(z(),a.remove(y),a.remove("ma-cin"),v=!1):m?(a.remove(t),a.remove("ma-exp"),m=!1):(a.add("ma-exp"),a.add(t),m=!0,f());window.dispatchEvent(new Event("resize"));window.scrollTo(0,0)}function n(){var a=document.documentElement.classList;h();\nv?(z(),a.remove(y),a.remove("ma-cin"),a.remove(t),a.remove("ma-exp"),v=m=!1):(m||(a.add("ma-exp"),a.add(t)),a.add("ma-cin"),a.add(y),v=m=!0,f(),q(),e());window.dispatchEvent(new Event("resize"));window.scrollTo(0,0);d.cinf&&(v&&document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function f(){var a=E(1);a&&(e_cinema=a.querySelector("#ma-cin"),e_cinema||(e_cinema=document.createElement("div"),\nD=document.createElement("canvas"),e_cinema.id="ma-cin",D.id="ma-cin-cvs",e_cinema.classList.add("ma-bg"+d.cinc),e_cinema.appendChild(D),e_cinema.addEventListener("click",function(a){a.stopPropagation();n()},!0)),a.insertBefore(e_cinema,a.lastElementChild));B=document.body.querySelector("#ma-cin-panel");if(!B){B=document.createElement("div");B.id="ma-cin-panel";var c,a=document.createElement("div");a.id="ma-cin-btns";B.appendChild(a);for(var b=0,w=4;b<w;b++){var e="a";0==b?c="https://www.mycinema.pro/cinema.html":\n1==b?c="https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html":e="div";e=document.createElement(e);e.className="ma-cin-btn";e.id="ma-cin-btn"+b;c&&(e.href=c,e.target="_blank");a.appendChild(e);1==b&&ka(e)}a=document.createElement("div");a.id="ma-cin-clrs";B.appendChild(a);c=\'Dark Gray;Velvet Sky;Deep Blue Sea;Blue Sky;Sea Wave;Deep Green;Ultraviolet;Dark Pink;Black and White;Black and Blue;Black and Green;Black and Yellow;Black and Red;Black and Violet;Black and Pink;Chromed;Ultrared;Blue Planet;Green;Coffee and Milk;"Light Gray;Light Blue Sky;Light Blue;Light Green;Light Yellow;Light Violet;Light Pink;White and Black;Light Sea Green;Navy Blue;Lime Green;Orange;Magenta;Red;Yellow;Indigo;Purple;Pink;White;Black\'.split(";");\nfor(var b=0,w=c.length,r=1;b<w;b++,r++)e=document.createElement("div"),e.title=c[b],e.className="ma-cin-clr",e.id="ma-cin-clr"+b,a.appendChild(e),4<r&&(r=0,a.appendChild(document.createElement("br")));c=["Static","Color","Invert","Tint"];b=0;for(w=c.length;b<w;b++)e=document.createElement("div"),e.textContent=c[b],e.className="ma-cin-type",e.id="ma-cin-type"+b,a.appendChild(e);B.addEventListener("click",g,!0)}document.body.appendChild(B)}function g(a){a.stopPropagation();var c=a.target.id||"";if(c)if(0==\nc.indexOf("ma-cin-clr")){c=c.slice(10);c=parseInt(c)||0;if(0>c||39<c)c=0;G("'+
a+'",JSON.stringify({id:4,name:"cinc",value:c}))}else if(0==c.indexOf("ma-cin-type")){c=c.slice(11);c=parseInt(c)||0;if(0>c||3<c)c=0;G("'+a+'",JSON.stringify({id:4,name:"cint",value:c}))}else if(0==c.indexOf("ma-cin-btn")){c=c.slice(10);c=parseInt(c)||0;if(0>c||3<c)c=0;if(1==c)ia(a);else if(2==c||3==c)B.hasAttribute("on")?B.removeAttribute("on"):B.setAttribute("on","")}}function e(){var a;e_cinema.parentElement.querySelector("video")&&\n(D.classList.remove("ma-type"+w),(a=B.querySelector(".ma-cin-type-sel"))&&a.classList.remove("ma-cin-type-sel"),D.classList.add("ma-type"+P),(a=B.querySelector("#ma-cin-type"+P))&&a.classList.add("ma-cin-type-sel"),z(),0<P&&r(),w=P)}function q(){var a=e_cinema.parentElement.querySelector("video"),b;a&&(a.classList.remove("ma-sh"+X),e_cinema.classList.remove("ma-bg"+X),(b=B.querySelector(".ma-cin-clr-sel"))&&b.classList.remove("ma-cin-clr-sel"),e_cinema.classList.add("ma-bg"+c),a.classList.add("ma-sh"+\nc),(b=B.querySelector("#ma-cin-clr"+c))&&b.classList.add("ma-cin-clr-sel"),X=c)}function z(){T&&(clearInterval(T),T=0,D.getContext("2d").clearRect(0,0,D.width,D.height))}function r(){function a(){c.paused||(b!=c.videoWidth&&(b=c.videoWidth,d=c.videoHeight,D.width=e=window.innerWidth,D.height=w=D.offsetHeight),g.drawImage(c,0,0,b,d,0,0,e,w));T=setTimeout(a,80)}var c=e_cinema.parentElement.querySelector("video"),b,d,e,w,g=D.getContext("2d");c&&a()}var C,m,v,t,y,u,x,P,w,c,X,D,B,T;this.expandVideo=k;\nthis.cinemaVideo=n;this.getState=function(){return m?v?1:2:0};this.pageLoaded=function(c){a();d.cin&&c?b():F();d.cin&&c?d.cina&&(v||n()):p()};this.optionsChanged=function(c){a();d.cin&&c?b():F();d.cin&&c?v&&(c=document.documentElement.classList,void 0!=x&&c.remove(y),h(),c.add(y),x=u,q(),e()):p()};a()}function ca(){function a(a,d,c){a?m||(document.addEventListener("wheel",p,!0),m=!0):m&&(document.removeEventListener("wheel",p,!0),m=!1);d?v||(document.addEventListener("touchstart",l,!0),document.addEventListener("touchmove",\nh,!0),v=!0):v&&(document.removeEventListener("touchmove",h,!0),document.removeEventListener("touchstart",l,!0),v=!1);c?t||(document.addEventListener("mousemove",b,!0),document.addEventListener("contextmenu",F,!0),t=!0):t&&(document.removeEventListener("contextmenu",F,!0),document.removeEventListener("mousemove",b,!0),t=!1)}function b(a){if((3==a.which||2==a.buttons)&&0!=a.movementX){var b=a.target;if("video"==b.localName)var c=b;else if("ma-volume"==b.id||"canvas"==b.localName&&-1<b.parentElement.className.indexOf("webgl"))c=\ndocument.querySelector(".html5-main-video");c&&(y=!0,k(c,a.movementX),a.preventDefault(),a.stopPropagation())}}function F(a){y&&(y=!1,a.preventDefault(),a.stopPropagation())}function l(a){u=a.targetTouches[0].pageX-window.scrollX}function h(a){var b=a.targetTouches[0].pageX-window.scrollX,c=a.targetTouches[0].pageY-window.scrollY,d=document.body.querySelectorAll("video"),e=b-u;if(-43>e||43<e)for(var g=0,r=d.length;g<r;g++){var p=d[g];var m=p.getBoundingClientRect();if(c>m.top&&c<m.bottom&&b>m.left&&\nb<m.right){k(p,e);u=b;a.preventDefault();a.stopPropagation();break}}}function p(a){var b=a.target;if("video"==b.localName)var c=b;else if("ma-volume"==b.id||"canvas"==b.localName&&-1<b.parentElement.className.indexOf("webgl"))c=document.querySelector(".html5-main-video");c&&(k(c,a.wheelDelta=a.wheelDelta||-1*a.deltaY),a.preventDefault(),a.stopPropagation())}function k(a,b){var c=a.parentElement&&a.parentElement.parentElement||0;if(c&&c.setVolume){var d=c.getVolume();d=0>b?d-z:d+z;100<d?d=100:0>d&&\n(d=0);c.setVolume(d);if(0<r){var w=d;f.parentElement||document.body.appendChild(f);var m=a.getBoundingClientRect(),p=m.left-window.scrollX,k=m.top+window.scrollY;1==r||3==r?(f.style.setProperty("left",p+20+"px","important"),f.style.setProperty("top",k+C+"px","important")):(f.style.setProperty("left",p+m.width/2-118+"px","important"),f.style.setProperty("top",k+m.height-120+"px","important"));x&&(f&&f.style.setProperty("display","block","important"),x=!1);1==r?(g.clearRect(0,0,90,48),g.fillText(w,\n0,21)):2==r?(g.fillStyle="rgb(0,0,0)",g.fillRect(0,0,236,20),g.rect(0,0,236,20),g.stroke(),g.fillStyle=q,g.fillRect(0,0,2*w,20),g.fillText(w,218,10)):3==r&&(g.clearRect(0,0,90,90),g.beginPath(),g.arc(45,45,40,2.0944,2.0944+.0523599*w,!1),g.stroke(),g.fillText(w,45,43));e&&clearTimeout(e);e=setTimeout(n,700)}c=c.isMuted();"localStorage"in window&&(w=+new Date,window.localStorage["yt-player-volume"]=\'{"data":"{\\\\"volume\\\\":\'+d+\',\\\\"muted\\\\":\'+c+\'}","expiration":\'+(w+1E10)+\',"creation":\'+w+"}")}}function n(){f&&\nf.style.setProperty("display","none","important");x=!0}var f,g,e,q,z,r,C,m,v,t,y,u,x;this.optionsChanged=function(){d.mwvc?(r=d.mwvci,z=d.gap,q=d.color,f||(f=document.createElement("canvas"),f.id="ma-volume",g=f.getContext("2d")),1==r?(f.width=90,f.height=48,g.font="48px Segoe UI, Helvetica, Arial, sans-serif",g.textAlign="left",C=17):2==r?(f.width=236,f.height=20,g.font="700 14px Segoe UI, Helvetica, Arial, sans-serif",g.textAlign="center",g.lineWidth=1,g.setLineDash([])):(f.width=90,f.height=90,\ng.font="600 30px Segoe UI, Helvetica, Arial, sans-serif",g.textAlign="center",C=17,g.lineWidth=7,g.setLineDash([5,1])),g.textBaseline="middle",g.strokeStyle=g.fillStyle=q,g.shadowColor="#000",g.shadowBlur=5,n(),a(d.mwvcm,d.mwvct,d.mwvcr)):a()}}function G(a,b){var d=new CustomEvent(a,{detail:b,cancelable:!1,canBubble:!1});xa.call(window,d)}function ma(){var a=document.documentElement.classList;d.a0&&d.a4&&d.ui?(a.remove("m0"),a.add("m1")):(a.remove("m1"),a.add("m0"))}function da(){var a=document.getElementById("ma-theme-switch");\nd.a0&&d.a4?a||(a=document.createElement("div"),a.id="ma-theme-switch",document.body.appendChild(a),a.addEventListener("click",ya,!0)):a&&document.body.removeChild(a)}function ya(a){G("'+
a+'",JSON.stringify({id:4,name:"ui",value:d.ui?0:1}));a.stopPropagation();a.preventDefault()}function za(){document.getElementById("magicSVG")||na("GET",Y+"i/vBiG.svg",null,null,"document",function(a){a&&(a.documentElement.id="magicSVG",document.body.appendChild(a.documentElement))})}function Aa(){function a(e){if(e){var c=\ndocument.body.querySelector("#watch7-content,ytd-video-primary-info-renderer");if(c)if(t=d.loop,y=!1,q)c.insertBefore(q,c.firstElementChild),l(!t),g("b6",t),(v=E(1))&&k();else{var w=Math.floor(7*Math.random()),f=document.createElement("meta");c.insertBefore(f,c.firstElementChild);for(e=0;e<w;e++)c.insertBefore(document.createElement("meta"),c.firstElementChild);q=document.createElement("div");c.insertBefore(q,f.nextElementSibling);e=q;if(c=oa){a:{if(navigator.appVersion&&(c=navigator.appVersion.indexOf("Chrome/"),\n-1<c)){c=parseInt(navigator.appVersion.slice(c+7));break a}c=0}c=53<c}z=c?oa.call(e,{mode:"closed"}):e;r=document.createElement("div");r.id="ma-panel";p();var c="Magic;Subscribe;Magic Options;Cinema;Expand;Repeat;Color Filters;Transform Filters;Capture;Speed Booster;Show/Hide video info".split(";"),w=[1,2,3,4,5,6,9,10,8,11,12];e=0;for(var n=w.length;e<n;e++){f=w[e];var h="a";if(1==f)var u="https://www.mycinema.pro/menu.html";else 2==f?u="https://www.youtube.com/channel/UCCwIAJrwWGB2GCyZSp41wNg?sub_confirmation=1":\n3==f?u="https://www.mycinema.pro/options.html":8==f?u="https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html":(u=null,h="div");h=document.createElement(h);u&&(h.href=u,h.target="_blank");h.id="b"+f;h.className="bt";h.title=c[e];r.appendChild(h);1==f?ua(h):3==f?va(h):8==f&&ka(h)}z.appendChild(Ba(Y+"css/rY.css"));z.appendChild(r);r.addEventListener("click",F,!0);m=r.lastElementChild;(v=E(1))&&k();l(!t);g("b6",t);b()}else C=setTimeout(a,2E3,1)}else l(!0)}function b(){e("b4",\nd.cin);e("b5",d.cin);e("b9",d.f0);e("b10",d.f0);e("b11",d.buf)}function F(a){var c=parseInt(a.target.id.slice(1)||0);c&&(1==c?pa&&(G("'+
a+'",JSON.stringify({id:8,url:"https://www.mycinema.pro/menu.html"})),a.preventDefault()):3==c?qa&&(G("'+a+'",JSON.stringify({id:8,url:"https://www.mycinema.pro/options.html"})),a.preventDefault()):4==c?M.cinemaVideo():5==c?M.expandVideo():6==c?(t=!t,l(!t),g("b6",t)):8==c?ia(a):9==c?n():10==c?f():11==c?(N||(N=new Ca),N.toggle()):12==c&&(c=E(1))&&(y&&c.hasOwnProperty("hideVideoInfo")?\n(c.hideVideoInfo(),y=!1):c.hasOwnProperty("showVideoInfo")&&(c.showVideoInfo(),y=!0)));a.stopPropagation()}function l(a){var c=E();if(c){var b=a?A?"removeEventListener":0:A?0:"addEventListener";b&&(c[b]("timeupdate",h,!0),A=a?!1:!0)}else A=!1}function h(a){this.currentTime>this.duration-1&&v&&v.hasOwnProperty("seekTo")&&v.seekTo(0)}function p(){r&&(r.className=(d.a0&&d.a4?d.ui?"m1":"m0":"m0")+(window.hasOwnProperty("Polymer")?" mat":""))}function k(){if(v&&v.getVideoLoadedFraction){var a=v.getVideoLoadedFraction(),\na=.99<a?100:parseInt(100*a);m.textContent=isNaN(a)?"":a+"%";100>a?C=setTimeout(k,3E3):d.buf&&d.buf1&&(new Audio(Y+"i/notify.ogg")).play()}}function n(a){var c=document.querySelector(".webgl canvas")||E();c&&(rgFilterNames="Apply Color Filter;Detalization;High Contrast;S-High Contrast;Grayscale;Sepia;Red Magic;Invert".split(";"),c.classList.remove("ma-c-filter"+u),a?u=0:(u++,7<u&&(u=0)),c.classList.add("ma-c-filter"+u),g("b9",0<u,rgFilterNames[u]),1==u&&(za(),1==x&&c.classList.remove("ma-c-filter1")))}\nfunction f(a){var c=document.querySelector(".webgl canvas"),b=c||E();b.classList.remove("ma-t-filter"+x);a?x=0:(x++,4<x&&(x=0));b.classList.add("ma-t-filter"+x);g("b10",0<x,["Apply Magic Transform","Magic Vinyl","Magic Zoom","Horizontal-Flip","Vertical-Flip"][x]);1==x?c?c.style.display="none":1==u&&b.classList.remove("ma-c-filter1"):2==x&&(c?c.style.display="":1==u&&b.classList.add("ma-c-filter1"))}function g(a,c,b){r&&(a=r.querySelector("#"+a))&&(a.classList[c?"add":"remove"]("on"),b&&(a.title=b))}\nfunction e(a,c){if(r){var b=r.querySelector("#"+a);if(b)b.classList[c?"remove":"add"]("hide")}}var q,z,r,C,m,v,t,y,u=0,x=0,A=!1;this.setTheme=p;this.selectBtn=g;this.isHost=function(a){return a==q};this.optionsChanged=function(a){a&&(b(),d.f0||(n(!0),f(!0)))};this.pageLoaded=function(b){C&&(clearTimeout(C),C=0);a(b)}}function Ca(){function a(a){b();a&&q.seekTo(n);A&&A.selectBtn("b11",0,"Speed booster/buffering");e=0}function b(){g&&(clearTimeout(g),g=null);k=p=0}function d(){f=q.getPlayerState();\n1!=f?(h=q.getVideoLoadedFraction(),1>h?(l=q.getDuration(),k=parseInt(h*l),k>p&&(p=k,k<l?(q.seekTo(k),e=1,g=setTimeout(d,1E3)):a(1))):a(1)):a(1)}var l,h,p,k,n,f,g,e,q;this.pageLoaded=function(){e&&a();document.documentElement.classList.remove("ma-boost")};this.toggle=function(){e?a():(q||(q=E(1)),q?(b(),f=q.getPlayerState(),1==f&&q.pauseVideo(),n=q.getCurrentTime(),A&&A.selectBtn("b11",1,"Stop booster/buffering"),document.documentElement.classList.add("ma-boost"),d()):e=0)}}function fa(){Q&&(Q.uninit(),\nQ=null);d.mrl&&"/watch"==window.location.pathname&&(Q||(Q=new Da))}function Da(){function a(a){a.preventDefault();a.stopPropagation();clearInterval(g);var e=parseInt(h.getCurrentTime());a=a.pageX-p.getBoundingClientRect().left;var m=p.offsetWidth;f=n.length;a=parseInt(a*z/m);m=d(a);if(-1<m)n.splice(m,2);else{e>a&&(m=e,e=a,a=m);for(m=0;m<f;m+=2){var k=n[m],r=n[m+1],q=!1;k>=e&&r<=a?q=!0:k>=e&&k<=a?(a=r,q=!0):r>=e&&r<=a&&(e=k,q=!0);q&&(n[m]=-1,n[m+1]=-1)}n=n.filter(function(a){return-1<a});f=n.length;\nn.push(e,a)}f=n.length;n.sort(function(a,b){return a==b?0:a>b?1:-1});l();0<f&&(g=setInterval(b,1E3))}function b(){for(var a=h.getCurrentTime(),b,e=1,d=f;e<d;e+=2)if(b=n[e],a>b&&a<b+2){h.seekTo(n[e+1<f?e+1:0]);break}}function d(a){for(var b=0;b<f;b+=2)if(a>=n[b]&&a<=n[b+1])return b}function l(){var a=e.width=e.offsetWidth;var b=e.height=e.offsetHeight;q.clearRect(0,0,a,b);if(f){q.lineWidth=8;q.strokeStyle="rgba(0, 250, 0,.5)";for(var d=0,g=1;d<f;d+=2,g+=2){b=n[d]*a/z;var k=n[g]*a/z;1>k-b&&(b-=2,k+=\n2);q.moveTo(b,4);q.lineTo(k,4);q.stroke()}}}var h,p,k,n=[],f,g;if(h=E(1))if((p=document.querySelector(".ytp-progress-bar-container"))&&(k=p.querySelector(".html5-scrubber-button,.ytp-scrubber-button")),null!=k){var e=document.createElement("canvas");e.id="ma-looper";var q=e.getContext("2d");var z=h.getDuration();n=[];e.style.setProperty("z-index",window.getComputedStyle(k,null).getPropertyValue("z-index"),"important");p.insertBefore(e,p.firstElementChild);p.addEventListener("contextmenu",a,!1)}this.uninit=\nfunction(){clearInterval(g);p.removeEventListener("contextmenu",a,!1);e.parentElement.removeChild(e)}}function ea(a){var b=document.documentElement.className;b&&(b=b.replace(RegExp("( )*ma-hide[0-9]+","g"),""));if(a&&d.h0)for(a=1;9>a;a++)d["h"+a]&&(b+=" ma-hide"+a);document.documentElement.className=b}function ga(){d.a0&&d.a2?document.documentElement.classList.add("ma-zoom"):document.documentElement.classList.remove("ma-zoom")}function ha(){d.c0&&d.c1?R||(R=new Ea):R&&(R.uninitialize(),R=null)}function Ea(){function a(a){"img"==\na.target.localName&&23<a.target.width&&(a.target.addEventListener("mouseout",F,!1),b(a));a.preventDefault()}function b(a){l&&(clearTimeout(l),l=0);var b=a.target;a=document.body.querySelectorAll(".g-hovercard");for(var n=0,f=a.length;n<f;++n)a[n].classList.remove("g-hovercard");l=setTimeout(function(){var a="center",e;if((e=b)&&void 0!=e){var f=0,k=0;if(e.offsetParent){do f+=e.offsetLeft,k+=e.offsetTop,e=e.offsetParent;while(e)}e=[f,k]}else e=[0,0];var n=e[0],p=e[1],m=b.offsetWidth,l=b.offsetHeight,\nk=0,t,f=window.scrollY;if(e=b.src)d.c0&&d.c1&&(/s\\d+-c-k/.test(e)?(b.hasAttribute("data-magic")||(b.src=e=e.replace(/s\\d+-c-k/,"s384-c-k")),k=t=384,a="center"):/sz=[0-9]+/.test(e)?(b.hasAttribute("data-magic")||(b.src=e=e.replace(/sz=[0-9]+/,"sz=384")),k=t=384,a="center"):/=s[0-9]+/.test(e)&&(b.hasAttribute("data-magic")||(b.src=e=e.replace(/=s[0-9]+/,"=s384")),k=t=384,a="center"),b.setAttribute("data-magic",!0)),0!=k&&(n<window.innerWidth/2?(m=n+m+32,n="magic-tip-left"):(m=n-k-32,n="magic-tip-right"),\np=p-parseInt((t-l)/2)-5,l=parseInt(t/2),p<f&&(l-=f-p,p=f),0>l&&(l=5),f=m,l+="px",m="url("+e+") center "+a+"/100% auto no-repeat",h?(a=h.firstElementChild,e=h.lastElementChild,l&&a.style.setProperty("top",l,"important")):(h=document.createElement("div"),a=document.createElement("div"),e=document.createElement("iframe"),h.className="magic-tip",e.setAttribute("scrolling","no"),e.setAttribute("frameborder","0"),h.appendChild(a),h.appendChild(e),document.body.appendChild(h)),ra(h,["top",p+"px","left",\nf+"px","height",t+"px"],1),ra(e,["width",k+"px","height",t+"px","background",m,"display","block"],1),n?(a.style.setProperty("display",""),a.className=n):a.style.setProperty("display","none","important"),h.style.setProperty("display","block","important"))},500)}function F(a){a.target.removeEventListener("mouseout",F,!1);l&&(clearTimeout(l),l=0);h&&h.style.setProperty("display","none","important")}var l,h;document.body.addEventListener("mouseover",a,!1);this.uninitialize=function(){document.body.removeEventListener("mouseover",\na,!1)}}function ta(){function a(a){do if((a=a.parentElement)&&("li"==a.localName||-1<a.className.search(/yt-lockup-video|video-list-item/)))break;while(a);if(a&&(a=a.querySelector(".yt-thumb-default,.yt-uix-simple-thumb-related,.video-thumb"))){var b,d=a.querySelector("img");if(d){a.img_w=d.width;var h=a.dataset.vid;h||(h=d.getAttribute("src"))&&(h=h.split("/")[4])}11==h.length&&na("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics&id="+h+"&key=AIzaSyC6wA79STIEv1tewqxtewjwbTMP6uOKLF8",\nnull,null,"text",function(d){if(d){try{d=JSON.parse(d)}catch(z){return}if(d&&d.items&&0<d.items.length&&(items=d.items,b=items[0].statistics)){d=a.parentElement;var k=document.createElement("div"),h=document.createElement("div");k.className="ma-rts-line";h.className="ma-rts-prg";k.style.width=a.img_w+"px";var f=parseInt(b.likeCount)||0,g=parseInt(b.dislikeCount)||0,g=parseInt(f+g),e=b.commentCount||0,l=g?f/g:0;h.style.setProperty("transform","scaleX(0)","");d.title=(l?(100*l).toFixed(1)+"% of likes from "+\ng+" votes":"")+(e?"\\n"+e+" comments":"");k.appendChild(h);d.appendChild(k);setTimeout(function(){h.style.setProperty("transform","scaleX("+l+")","")},100)}}})}}document.documentElement.classList.add("ma-rts");document.body.addEventListener("click",function(b){var d=b.target;-1<d.className.search(/view-count|yt-lockup-meta/)&&(b.stopPropagation(),b.preventDefault(),d.rating||(d.rating=!0,a(d)))},!1)}function E(a){var b=document.querySelector("#player video")||document.querySelector("#movie-player video")||\ndocument.querySelector(\'video [src^="blob"]\');return a?b.parentElement.parentElement:b}function na(a,b,d,l,h,p){var k=new XMLHttpRequest;k.onload=function(a){200==this.status?p(this.response):p()};k.onerror=p;k.onabort=p;k.open(a,b,!0);if(l)for(a=0,b=l.length;a<b;a+=2)k.setRequestHeader(l[a],l[a+1]);h&&(k.responseType=h);try{k.send(d)}catch(n){}}function ra(a,b,d){if(a){var l=0,h=b.length;for(d=d?"important":null;l<h;l+=2)a.style.setProperty(b[l],b[l+1],d)}}function Ba(a){var b=document.createElement("link");\nb.rel="stylesheet";b.type="text/css";b.href=a;return b}var oa=Element.prototype.attachShadow||0,xa=Window.prototype.dispatchEvent,qa,ja,pa,sa,O,J,I,M,A,N,H,R,Q,L=0,ba;var d=JSON.parse(\''+
d+'\');var Y=d.extURL;var K=0<window.location.search.indexOf("list=");L=d.pause?K?d.plist?1:0:0:1;ma();la();window.addEventListener("'+a+'b",function(a){try{var b=JSON.parse(a.detail)}catch(F){return}31==b.id?(a=b.tab,b=b.url,"https://www.mycinema.pro/menu.html"==b?pa=a:"https://www.mycinema.pro/options.html"==b?qa=\na:"https://www.mycinema.pro/take-snapshots-of-your-favorite-videos.html"==b&&(ja=a)):(d=b,b="/watch"==window.location.pathname,ma(),A.setTheme(),ea(b),M.optionsChanged(b),A.optionsChanged(b),I||(I=new ca),I.optionsChanged(),la(),da(),fa(),ga(),ha(),O!=d.hq?(O=d.hq)?W():W(!0):O&&J!=d.hqi&&(J=d.hqi,W()))},!1);try{Object.defineProperty(window,"ytplayer",{get:function(){d&&H&&H.config&&H.config.args&&!sa&&(sa=!0,aa(H.config.args));return H},set:function(a){H=a},configurable:!0,enumerable:!0})}catch(a){Z()}var Fa=\nHTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){Fa.apply(this,arguments);if(0==L){var a=this.parentElement.parentElement;a&&"pauseVideo"in a&&a.pauseVideo()}return!0};window.addEventListener("DOMContentLoaded",function(){window.addEventListener("popstate",U,!1);document.addEventListener("yt-navigate",U,!1);document.addEventListener("spfrequest",U,!1);M=new wa;A=new Aa;V()},!1);document.addEventListener("click",function(a){A&&A.isHost(a.target)||(L=1)},!0)})();';
b.appendChild(c);b.removeChild(c);window.addEventListener(a,n,!1)}},configurable:!1});document.documentElement.classList.add("m1");var g,h;for(h in chrome)if("object"==typeof chrome[h]&&(g=Object.getOwnPropertyDescriptor(chrome,h))){f[h]=g.value;g.value={};g.configurable=!1;g.writable=!1;try{Object.defineProperty(chrome,h,g)}catch(d){f[h]=chrome[h]}}setTimeout(l,12E3)})();
