// MagicActions for Google Chrome - CHROMEACTIONS.COM - Copyright (c) 2017 Vlad & Serge Strukoff. All Rights Reserved.
(function(){function F(){p.runtime.sendMessage(JSON.stringify({id:0}),G)}function G(c){if(c){var b=c.url;0!=b.indexOf("https://www.mycinema.pro/")&&0!=b.indexOf(C)&&(document.location.href="about:blank");a=c.opt}if(!(c=q)){c=document.body;if(b=H){b:{if(navigator.appVersion&&(b=navigator.appVersion.indexOf("Chrome/"),-1<b)){b=parseInt(navigator.appVersion.slice(b+7));break b}b=0}b=53<b}c=b?H.call(c,{mode:"closed"}):c}q=c;c=document.createDocumentFragment();b=h("ul");b.id="opt";v&&(b.className="localPage",
document.body.classList.remove("shadow"));c.appendChild(b);var e=q,g=document.createElement("link");g.rel="stylesheet";g.type="text/css";g.href="css/NYl.css";e.appendChild(g);z(b,'<b>Thank you for using Magic Actions!</b><span></span><br>YouTube constantly make changes, and we constantly need to make sure we are in sync. Last years we have been working hard to provide you with the best possible features.<div class="ctrb-bttns"><b><span><i></i></span><span> </span>Don\'t forget to … </b><button id="annt19" class="ctrb-bttn" title="Securely via PayPal to our email &#10; address webmaster@mixesoft.com &#10; You don\'t need to create a PayPal account.">Donate $19</button> <button id="annt12" class="ctrb-bttn" title="Securely via PayPal to our email &#10; address webmaster@mixesoft.com &#10; You don\'t need to create a PayPal account.">Donate $12</button> <button id="annt7" class="ctrb-bttn" title="Securely via PayPal to our email &#10; address webmaster@mixesoft.com &#10; You don\'t need to create a PayPal account.">Donate $7</button> <button id="anntx" class="ctrb-bttn" title="Donate custom amount">…</button></div>',
!1,!0);f(b,"mwvc",d("o8"),a.mwvc,0,0,v?0:"https://www.mycinema.pro/volume-control.html");f(b,"mwvcm",d("o82"),a.mwvcm,1,!a.mwvc);f(b,"mwvct",d("o83"),a.mwvct,1,!a.mwvc);f(b,"mwvcr",d("o41"),a.mwvcr,1,!a.mwvc);var e="red LightPink orange lime GreenYellow yellow gold DodgerBlue aqua magenta DeepPink white".split(" "),g=h("li");var k=h("label");g.className="sub";g.setAttribute("disabled",!a.mwvc);g.id="color";k.textContent=d("o9");g.appendChild(k);for(var l=0,n=e.length;l<n;l++){var r=e[l];k=h("button");
k.id=r;k.style.backgroundColor=r;a.color==r&&(k.className="sel");g.appendChild(k);k.addEventListener("click",J,!1)}b.appendChild(g);e=h("li");g=h("label");e.id="mwvci";e.className="sub";e.setAttribute("disabled",!a.mwvci);g.textContent=d("o23");e.appendChild(g);m(e,"vc0",d("o85"),0==a.mwvci,A);m(e,"vc1",d("o24"),1==a.mwvci,A);m(e,"vc2",d("o25"),2==a.mwvci,A);m(e,"vc3",d("o26"),3==a.mwvci,A);b.appendChild(e);e=d("o27");g=a.gap;k=!a.mwvc;r=h("li");l=h("label");n=h("input");l.textContent=e;l.setAttribute("for",
"gap");n.type="range";n.min=1;n.max=25;n.step=1;n.value=g;n.id="gap";n.title="Range: 1-25";r.appendChild(l);r.appendChild(n);l=h("span");l.textContent=g;r.appendChild(l);r.className="sub";r.setAttribute("disabled",k);b.appendChild(r);n.addEventListener("change",K,!1);f(b,"hq",d("o90"),a.hq,0,0,v?0:"https://www.mycinema.pro/autohd.html");e=h("li");e.id="hqi";e.className="sub";e.setAttribute("disabled",!a.hq);m(e,"highres",d("o91"),"highres"==a.hqi,t);m(e,"hd2880",d("o92"),"hd2880"==a.hqi,t);m(e,"hd2160",
d("o93"),"hd2160"==a.hqi,t);m(e,"hd1440",d("o94"),"hd1440"==a.hqi,t);m(e,"hd1080",d("o95"),"hd1080"==a.hqi,t);m(e,"hd720",d("o96"),"hd720"==a.hqi,t);m(e,"large",d("o97"),"large"==a.hqi,t);m(e,"medium",d("o98"),"medium"==a.hqi,t);m(e,"small",d("o99"),"small"==a.hqi,t);m(e,"tiny",d("o100"),"tiny"==a.hqi,t);b.appendChild(e);f(b,"ha",d("o20"),a.ha);f(b,"mrl",d("o44"),a.mrl);f(b,"wide",d("o28"),a.wide);f(b,"ww",d("o80"),a.ww);f(b,"cin",d("o29"),a.cin,0,0,v?0:"https://www.mycinema.pro/cinema.html");e=h("li");
g=h("label");e.id="cini";e.className="sub";e.setAttribute("disabled",!a.cin);g.textContent=d("o32");e.appendChild(g);m(e,"ca0",d("o33"),0==a.cini,D);m(e,"ca1",d("o34"),1==a.cini,D);m(e,"ca2",d("o35"),2==a.cini,D);b.appendChild(e);f(b,"cina",d("o30"),a.cina,1,!a.cin);f(b,"cinf",d("o31"),a.cinf,1,!a.cin);f(b,"pt",d("o65"),a.pt);f(b,"pause",d("o17"),a.pause);f(b,"plist",d("o19"),a.plist,1,!a.pause);f(b,"buf",d("o18"),a.buf);f(b,"buf1",d("o63"),a.buf1,1,!a.buf);f(b,"loop",d("o40"),a.loop);f(b,"c0",d("o70"),
a.c0,0,0,v?0:"https://www.mycinema.pro/comments.html");E(b,["c1",d("o71"),a.c1,"c4",d("o86"),a.c4],!a.c0);f(b,"anns",d("o42"),a.anns);f(b,"f0",d("o43"),a.f0);f(b,"h0",d("o50"),a.h0);E(b,["h7",d("o56"),a.h7,"h1",d("o51"),a.h1,"h2",d("o52"),a.h2,"h3",d("o53"),a.h3,"h4",d("o54"),a.h4],!a.h0);E(b,["h5",d("o55"),a.h5,"h6",d("o64"),a.h6,"h8",d("o57"),a.h8],!a.h0);f(b,"a0",d("o60"),a.a0,0,0,v?0:"https://www.mycinema.pro/themes.html");f(b,"a4",d("o81"),a.a4,1,!a.a0);f(b,"a1",d("o61"),a.a1,1,!a.a0);f(b,"a2",
d("o62"),a.a2,1,!a.a0);f(b,"a3",d("o84"),a.a3,1,!a.a0);e=h("li");g=h("a");e.className="opt";g.textContent="Export Options …";g.className="bttn";g.addEventListener("click",L,!1);e.appendChild(g);g=h("a");g.textContent="Import Options …";g.className="bttn";g.addEventListener("click",M,!1);e.appendChild(g);b.appendChild(e);z(b,'<b>Thank you for using Magic Actions!<br>We are working hard to provide you with the best possible features.<div class="ctrb-bttns">Please do not forget to … </b><button id="annt19" class="ctrb-bttn" title="Securely via PayPal to our email &#10; address webmaster@mixesoft.com &#10; You don\'t need to create a PayPal account.">Donate $19</button> <button id="annt12" class="ctrb-bttn" title="Securely via PayPal to our email &#10; address webmaster@mixesoft.com &#10; You don\'t need to create a PayPal account.">Donate $12</button> <button id="annt7" class="ctrb-bttn" title="Securely via PayPal to our email &#10; address webmaster@mixesoft.com &#10; You don\'t need to create a PayPal account.">Donate $7</button> <button id="anntx" class="ctrb-bttn" title="Donate custom amount">…</button></div>',
!1,!0);q.appendChild(c);u("f0").parentElement.title="Show/Hide the Filters button so you can apply a filter (grayscale, flip, high contrast etc.) to any video";c=h("sup");c.textContent=d("m4");c.style.color="red";c.style.verticalAlign="top";u("mrl").nextElementSibling.appendChild(c);u("mrl").parentElement.title="Show/Hide the Filters button so you can apply a filter (grayscale, flip, high contrast etc.) to any video";window.addEventListener("message",N,!1);window.top.postMessage(O(JSON.stringify({t:+new Date,
i:700,ver:a.ver,sv:a.sv})),"https://www.mycinema.pro");1==a.sv&&w("sv",0)}function N(a){if("https://www.mycinema.pro"===(a.origin||"")&&a.data.constructor===Array){try{var b=JSON.parse(P(a.data))}catch(e){b={}}b.t&&(a=+new Date-b.t,1E3>a&&550==b.i&&(b=u("ha")))&&(b=b.parentElement,b.parentElement.removeChild(b))}}function w(a,b){p.runtime.sendMessage(JSON.stringify({id:4,name:a,value:b}))}function J(c){u(a.color).className="";a.color=this.id;this.className="sel";w("color",a.color)}function A(c){u("vc"+
a.mwvci).checked=!1;a.mwvci=parseInt(this.id.charAt(2));this.checked=!0;w("mwvci",a.mwvci)}function D(c){u("ca"+a.cini).checked=!1;a.cini=parseInt(this.id.charAt(2));this.checked=!0;w("cini",a.cini)}function t(c){u(a.hqi).checked=!1;a.hqi=this.id;this.checked=!0;w("hqi",a.hqi)}function I(c){if("ha"==this.id)this.checked=!1,this.disabled=!0,z(q,'<b>Note:</b> This feature was disabled due to breach of YouTube\'s policies. <br>Alternatively you can use a <a target="_blank" href="https://chrome.google.com/webstore/category/collection/get_started">third-party app</a>.<br>',
!0);else if("pt"==this.id)this.checked=!1,this.disabled=!0,z(q,'<b>Note:</b> This feature was disabled due to end support for <a target="_blank" href="https://blog.chromium.org/2017/07/so-long-and-thanks-for-all-flash.html">Flash</a><br>and YouTube Flash Player <a target="_blank" href="https://youtube-eng.googleblog.com/2015/01/youtube-now-defaults-to-html5_27.html">deprecation policy</a>',!0);else if(a[this.id]=this.checked?!0:!1,w(this.id,this.checked?!0:!1),c=this.parentElement,"opt"==c.className)for(c=
c.nextElementSibling;c&&("sub"==c.className||"sub multi"==c.className);)c.setAttribute("disabled",!this.checked),c=c.nextElementSibling}function Q(c){a[c.id]=parseInt(c.value);w(c.id,parseInt(c.value))}function K(a){B&&(clearTimeout(B),B=null);this.nextElementSibling.textContent=this.value;B=setTimeout(Q,500,this)}function m(a,b,e,g,d){var c=h("label"),k=h("input");k.type="radio";k.id=b;g&&(k.checked=!0);a.appendChild(k);c.textContent=e;c.setAttribute("for",b);a.appendChild(c);k.addEventListener("click",
d,!1)}function f(a,b,e,g,d,l,n){var c=h("li"),k=h("label"),f=h("input");k.textContent=e;k.setAttribute("for",b);f.type="checkbox";f.id=b;f.checked=g;c.appendChild(f);c.appendChild(k);d?(c.className="sub",c.setAttribute("disabled",l)):c.className="opt";n&&(b=h("span"),b.textContent="?",b.title="Help & Tips",b.setAttribute("data-url",n),b.className="help",c.appendChild(b),b.addEventListener("click",function(b){b=this.getAttribute("data-url");p.runtime.sendMessage(JSON.stringify({id:2,url:b,incognito:!0}))},
!1));a.appendChild(c);f.addEventListener("click",I,!1)}function E(a,b,e){for(var c=h("li"),d,l,f=0,m=b.length;f<m;f+=3)d=h("label"),l=h("input"),d.textContent=b[f+1],d.setAttribute("for",b[f]),l.type="checkbox",l.id=b[f],l.checked=b[f+2],c.appendChild(l),c.appendChild(d),l.addEventListener("click",I,!1);c.className="sub multi";c.setAttribute("disabled",e);a.appendChild(c)}function z(a,b,e,d){var c=h("ul"==a.localName?"li":"div");c.className="msg"+(e?" fixed":"");c.innerHTML=b;a.appendChild(c);d&&
(c.style.backgroundImage="none");c.addEventListener("click",d?R:S,!1)}function R(a){var b=a.target.id||0,c;"annt19"==b?c=19:"annt12"==b?c=12:"annt7"==b&&(c=7);c?(p.runtime.sendMessage(JSON.stringify({id:20,ea:"opt-"+c})),p.runtime.sendMessage(JSON.stringify({id:2,url:p.runtime.getURL("sWSj.html#"+c)}))):(p.runtime.sendMessage(JSON.stringify({id:20,ea:"opt-ctrb"})),p.runtime.sendMessage(JSON.stringify({id:2,url:p.runtime.getURL("Q.html")})));a.stopPropagation()}function S(a){q.removeChild(this);
a.stopPropagation()}function L(){var c=JSON.stringify(a);if(Blob)var b=new Blob([c],{type:"application/json;charset=UTF-8"});else BlobBuilder&&(b=new BlobBuilder,b.append(c),b=b.getBlob("application/json;charset=UTF-8"));T(b,"MagicActions-Options.json")}function M(){U(1E5,function(c){try{c=JSON.parse(c)}catch(k){return}var b=a.ver,e=a.nv,d;for(d in c)void 0!=a[d]&&(a[d]=c[d]);a.ver=b;a.nv=e;p.runtime.sendMessage(JSON.stringify({id:3,opt:a}));q.innerHTML="";G()})}function U(a,b){var c=u("openAs");
c&&q.removeChild(c);c=document.createElement("input");c.id="openAs";c.style.display="none";c.type="file";q.appendChild(c);c.addEventListener("change",function(c){if((c=c.target.files)&&1==c.length&&c[0].size<a){var d=new FileReader;d.onload=function(a){b(a.target.result)};d.readAsText(c[0])}else showMsg("m12",1E3)},!1);c.click()}function T(a,b){var c=document.createElement("a"),d=window.URL||window.webkitURL;c.href=d.createObjectURL(a);c.setAttribute("download",b);c.click();setTimeout(function(){d.revokeObjectURL(c.href)},
2E3)}function V(a){W("HEAD","https://www.mycinema.pro/",0,"text",function(b){!b||200!=b.code&&304!=b.code?a():a(1)})}function W(a,b,d,g,f){var c={code:0},e=new XMLHttpRequest;e.open(a,b,!0);g&&(e.responseType=g);e.onload=function(a){c.code=this.status||0;c.data=this.response;f(c)};e.onerror=function(){f(c)};e.onabort=function(){f(c)};try{e.send(d)}catch(r){f(c)}}function O(a){for(var b=[],c=[3,0,0,-3],d,f=0,h=a.length;f<h;f++)d=c[f%4],f+d<h?b.push(a.charCodeAt(f+d)):b.push(a.charCodeAt(f));return b}
function P(a){for(var b=[],c=[3,0,0,-3],d,f=0,h=a.length;f<h;f++)d=c[f%4],f+d<h?b.push(String.fromCharCode(a[f+d])):b.push(String.fromCharCode(a[f]));return b.join("")}function u(a){return q.querySelector("#"+a)}function h(a){return document.createElement(a)}function d(a){return p.i18n.getMessage(a)}var a,v,B,q,p={},C=chrome.runtime.getURL("p.html");0!=window.location.href.indexOf(C)&&(window.location.href=C);var y,x;for(x in chrome)if("object"==typeof chrome[x]&&(y=Object.getOwnPropertyDescriptor(chrome,
x))){p[x]=y.value;y.value={};y.configurable=!1;y.writable=!1;try{Object.defineProperty(chrome,x,y)}catch(c){p[x]=chrome[x]}}if("attachShadow"in Element.prototype){var H=Element.prototype.attachShadow;Element.prototype.attachShadow=void 0}window.addEventListener("DOMContentLoaded",function(){(v=window.self==window.top)?V(function(a){a?window.location.href="https://www.mycinema.pro/options.html":F()}):F()},!0)})();
